Metadata-Version: 2.4
Name: eorbis-docbot
Version: 0.1.0
Summary: Converte Markdown do Obsidian para HTML importÃ¡vel no ClickUp Docs, substituindo imagens por URLs do GitHub.
Requires-Python: >=3.10
Description-Content-Type: text/markdown
Requires-Dist: markdown2>=2.5.0
Requires-Dist: python-dotenv>=1.0.1

# Bot_formataÃ§Ã£o (Eorbis DocBot)

Bot para **processar documentaÃ§Ã£o do Obsidian em lote**, convertendo o padrÃ£o de imagens do Obsidian:

* `![[Pasted image ...png]]`

para Markdown padrÃ£o com URL pÃºblica:

* `![](https://raw.githubusercontent.com/.../Pasted%20image%20....png)`

O objetivo Ã© permitir importaÃ§Ã£o/uso da documentaÃ§Ã£o em plataformas como **ClickUp** (e futuramente gerar HTML completo).

---

## âœ… O que o bot faz hoje

* LÃª **todos os arquivos `.md`** dentro de uma pasta (`INPUT_DIR`)
* Converte embeds do Obsidian `![[...]]` em links Markdown padrÃ£o `![](url)`
* Salva os arquivos convertidos em outra pasta (`OUTPUT_DIR`)
* MantÃ©m a **mesma estrutura de subpastas** do input
* Gera um **relatÃ³rio (ConversionReport)** com contadores e erros

---

## ğŸ“ Estrutura do projeto (MVC + SOLID)

O projeto usa layout `src/` e separa responsabilidades:

```
src/eorbis_docbot/
  controller/         # Entrada do fluxo (chama service + view)
  services/           # Casos de uso (batch convert)
  transforms/         # FunÃ§Ãµes puras (listar, converter, salvar)
  model/              # Modelos de dados (ConversionReport)
  view/               # SaÃ­da no console (render do report)
  config.py           # LÃª .env e monta Config
  __main__.py         # Executa o controller (python -m eorbis_docbot)
```

### Conceito rÃ¡pido:

* **Controller**: liga config â†’ service â†’ view
* **Service**: orquestra o processo (lote)
* **Transforms**: fazem tarefas pequenas e testÃ¡veis
* **Model**: estrutura do report
* **View**: imprime resultado no console

---

## âš™ï¸ Requisitos

* Python 3.10+ (recomendado)
* Ambiente virtual (`.venv`)

---

## ğŸš€ InstalaÃ§Ã£o

Na raiz do projeto:

### 1) Criar venv

```powershell
python -m venv .venv
.\.venv\Scripts\Activate.ps1
```

### 2) Instalar dependÃªncias

Se vocÃª jÃ¡ tem `pyproject.toml` configurado:

```powershell
pip install -e .
```

Ou, se estiver usando `requirements.txt`:

```powershell
pip install -r requirements.txt
```

---

## ğŸ”§ ConfiguraÃ§Ã£o (.env)

Crie um arquivo `.env` na raiz do projeto.

### Exemplo recomendado

```env
# GitHub (onde as imagens estÃ£o hospedadas)
GITHUB_OWNER=Miranda-FA
GITHUB_REPO=Bot_formatacao
GITHUB_BRANCH=main
GITHUB_IMAGES_DIR=imagens_doc

# Pastas locais
INPUT_DIR=C:\Users\User\Desktop\MDs
OUTPUT_DIR=C:\Users\User\Desktop\MDs_convertidos

# Opcional (futuro/HTML)
DOC_VERSION=3.22.3
LOGO_EORBIS=https://raw.githubusercontent.com/...
LOGO_METAPRIME=https://raw.githubusercontent.com/...
```

> `INPUT_DIR` e `OUTPUT_DIR` devem ser **pastas**, nÃ£o arquivos.

O `config.py` monta automaticamente o `image_base_url` como:

```
https://raw.githubusercontent.com/{owner}/{repo}/{branch}/{images_dir}
```

---

## â–¶ï¸ Como rodar

ApÃ³s instalar em modo editable (`pip install -e .`):

```powershell
python -m eorbis_docbot
```

Esse comando:

* carrega o `.env`
* lista os `.md` em `INPUT_DIR`
* converte as imagens
* salva no `OUTPUT_DIR`
* imprime o report no console

---

## ğŸ§ª Testes rÃ¡pidos (sandboxes)

Durante o desenvolvimento, foram usados arquivos de teste na raiz do repo:

* `sandbox_list_files.py` â†’ lista `.md`
* `sandbox_write_out.py` â†’ testa salvar mantendo subpastas
* `sandbox_obsidian_one.py` â†’ testa converter 1 arquivo

VocÃª pode manter esses scripts para debug local.

---

## ğŸ› ï¸ Troubleshooting

### âŒ `ModuleNotFoundError: No module named 'eorbis_docbot'`

VocÃª provavelmente executou o arquivo pelo caminho:

```powershell
python src/eorbis_docbot/__main__.py
```

âœ… Correto:

```powershell
pip install -e .
python -m eorbis_docbot
```

---

### âŒ Links de imagem nÃ£o abrem

Confirme:

* o arquivo existe no GitHub na pasta `GITHUB_IMAGES_DIR`
* branch (`main/master`) estÃ¡ correto
* `image_base_url` estÃ¡ no formato raw:

  * `raw.githubusercontent.com/...`
* espaÃ§os nos nomes sÃ£o convertidos em `%20` automaticamente pelo bot

---

### âŒ Alguns embeds nÃ£o sÃ£o imagem

O bot **sÃ³ converte** o embed se o arquivo terminar com extensÃ£o de imagem (png/jpg/jpeg/webp etc.).
Se vocÃª usa embeds de nota do Obsidian, eles serÃ£o preservados.

---

## ğŸ“Œ Roadmap (prÃ³ximas evoluÃ§Ãµes)

* [ ] Validar se imagens referenciadas realmente existem no GitHub (relatÃ³rio de faltantes)
* [ ] Converter Markdown normalizado â†’ HTML
* [ ] Gerar HTML final formatado para ClickUp (com header/logos/versÃ£o)
* [ ] CLI completo (pyproject entrypoint) com comandos:

  * `docbot convert-md`
  * `docbot to-html`
  * `docbot clickup-html`

---

## ğŸ‘¤ Autor

Gabriel Miranda FelÃ­cio de Almeida
Projeto para automaÃ§Ã£o e padronizaÃ§Ã£o da documentaÃ§Ã£o Eorbis/Meta Prime.

